\documentclass[12pt,a4paper]{report}

% Packages
\usepackage{times}           % Times New Roman font
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}        % For images
\usepackage{setspace}        % For line spacing
\usepackage{geometry}        % For margins
\usepackage{titlesec}        % For section formatting

% Customize heading sizes
\titleformat{\subsubsection}
  {\large\bfseries}
  {\thesubsubsection}{1em}{}
\usepackage{tocloft}         % For table of contents formatting
\usepackage{caption}         % For caption formatting
\usepackage{float}           % For figure positioning
\usepackage{natbib}          % For Harvard referencing
\usepackage{enumitem}        % For list formatting
\usepackage{longtable}       % For long tables
\usepackage{array}           % For table formatting
\usepackage{tabularx}        % For flexible tables
\usepackage{booktabs}        % For professional tables
\usepackage{amsmath}         % For math symbols
\usepackage{listings}        % For code listings
\usepackage{xcolor}          % For colors
\usepackage{verbatim}        % For verbatim environment (ASCII diagrams)
% Bibliography will be manually added to TOC
\renewcommand{\bibname}{References}
\usepackage{hyperref}        % For hyperlinks - MUST BE LAST

% Page geometry
\geometry{
    a4paper,
    left=1.1in,
    right=1in,
    top=1in,
    bottom=1in
}

% Line spacing
\onehalfspacing

% Caption formatting (10pt)
\captionsetup{font={small,rm},labelfont=bf}

% Code listing settings
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny,
    tabsize=2
}

% Hyperlink setup
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    citecolor=blue,
    urlcolor=blue
}

% TOC Depth - Include subsubsections
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}

% Roman numerals for front matter
\pagenumbering{roman}

\begin{document}

% Title Page
\input{frontmatter/titlepage}
\clearpage

% Declaration - Removed as per user request
% \input{frontmatter/declaration}
% \clearpage

% Abstract
\input{frontmatter/abstract}
\clearpage

% Acknowledgments
\input{frontmatter/acknowledgments}
\clearpage

% Table of Contents
\tableofcontents
\clearpage

% List of Figures
\listoffigures
\clearpage

% List of Tables
\listoftables
\clearpage

% Start main content with Arabic numerals
\pagenumbering{arabic}
\setcounter{page}{1}

% Chapters - Complete TM471 structure
\input{chapters/chapter1}
\clearpage

\input{chapters/chapter2}
\clearpage

\input{chapters/chapter3}
\clearpage

% Appendices
\input{appendices/appendix}
\clearpage

% References
\addcontentsline{toc}{chapter}{References}  % Manually add to TOC
\nocite{*}  % Include all references even if not cited
\bibliographystyle{agsm}  % Harvard style
\bibliography{references}

\end{document}
